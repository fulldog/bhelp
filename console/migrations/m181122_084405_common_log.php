<?php

use yii\db\Migration;

class m181122_084405_common_log extends Migration
{
    public function up()
    {
        /* 取消外键约束 */
        $this->execute('SET foreign_key_checks = 0');
        
        /* 创建表 */
        $this->createTable('{{%common_log}}', [
            'id' => 'int(11) NOT NULL AUTO_INCREMENT',
            'member_id' => 'int(11) NULL DEFAULT \'0\' COMMENT \'用户id\'',
            'method' => 'varchar(20) NULL DEFAULT \'\' COMMENT \'提交类型\'',
            'module' => 'varchar(50) NULL DEFAULT \'\' COMMENT \'模块\'',
            'controller' => 'varchar(50) NULL DEFAULT \'\' COMMENT \'控制器\'',
            'action' => 'varchar(50) NULL DEFAULT \'\' COMMENT \'方法\'',
            'url' => 'varchar(1000) NULL DEFAULT \'\' COMMENT \'提交url\'',
            'get_data' => 'text NULL COMMENT \'get数据\'',
            'post_data' => 'longtext NULL COMMENT \'post数据\'',
            'ip' => 'varchar(16) NULL DEFAULT \'\' COMMENT \'ip地址\'',
            'req_id' => 'varchar(50) NULL DEFAULT \'\' COMMENT \'对外id\'',
            'error_code' => 'int(10) NULL DEFAULT \'0\' COMMENT \'报错code\'',
            'error_msg' => 'varchar(200) NULL DEFAULT \'\' COMMENT \'报错信息\'',
            'error_data' => 'longtext NULL COMMENT \'报错日志\'',
            'status' => 'tinyint(4) NOT NULL DEFAULT \'1\' COMMENT \'状态(-1:已删除,0:禁用,1:正常)\'',
            'created_at' => 'int(10) NULL DEFAULT \'0\' COMMENT \'创建时间\'',
            'updated_at' => 'int(10) unsigned NULL DEFAULT \'0\' COMMENT \'修改时间\'',
            'PRIMARY KEY (`id`)'
        ], "ENGINE=InnoDB  DEFAULT CHARSET=utf8mb4 COMMENT='api_接口日志'");
        
        /* 索引设置 */
        $this->createIndex('error_code','{{%common_log}}','error_code',0);
        
        
        /* 表数据 */
        $this->insert('{{%common_log}}',['id'=>'1259','member_id'=>'0','method'=>'POST','module'=>'app-api','controller'=>'web-hook','action'=>'gitee','url'=>'/api/web-hook/gitee','get_data'=>'{\"s\":\"\\/web-hook\\/gitee\"}','post_data'=>'{\"ref\":\"refs\\/heads\\/master\",\"before\":\"8be73719a5b3ba388d2cfe4663bffca29b5763c9\",\"after\":\"0927dbf4d7bf5889dfdeaa343bb516e8fb81d989\",\"total_commits_count\":1,\"commits_more_than_ten\":false,\"created\":false,\"deleted\":false,\"compare\":\"https:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced\\/compare\\/8be73719a5b3ba388d2cfe4663bffca29b5763c9...0927dbf4d7bf5889dfdeaa343bb516e8fb81d989\",\"commits\":[{\"id\":\"0927dbf4d7bf5889dfdeaa343bb516e8fb81d989\",\"tree_id\":\"0f8308f18444366329e0ece2aa60d0489fadf53a\",\"message\":\"\\u91cd\\u65b0\\u4fee\\u6539\\u6570\\u636e\\u8fc1\\u79fb\",\"timestamp\":\"2018-11-10T11:40:14+08:00\",\"url\":\"https:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced\\/commit\\/0927dbf4d7bf5889dfdeaa343bb516e8fb81d989\",\"author\":{\"time\":\"2018-11-10T11:40:14+08:00\",\"id\":765048,\"name\":\"\\u7b80\\u8a00Pro\",\"email\":\"751393839@qq.com\",\"username\":\"jianyan94_291\",\"user_name\":\"jianyan94_291\",\"url\":\"https:\\/\\/gitee.com\\/jianyan94_291\"},\"committer\":{\"id\":765048,\"name\":\"\\u7b80\\u8a00Pro\",\"email\":\"751393839@qq.com\",\"username\":\"jianyan94_291\",\"user_name\":\"jianyan94_291\",\"url\":\"https:\\/\\/gitee.com\\/jianyan94_291\"},\"distinct\":true,\"added\":[\"console\\/migrations\\/m181110_033944_addon_article.php\",\"console\\/migrations\\/m181110_033944_addon_article_cate.php\",\"console\\/migrations\\/m181110_033944_addon_article_single.php\",\"console\\/migrations\\/m181110_033944_addon_article_tag.php\",\"console\\/migrations\\/m181110_033944_addon_article_tag_map.php\",\"console\\/migrations\\/m181110_033944_addon_example_cate.php\",\"console\\/migrations\\/m181110_033944_addon_example_curd.php\",\"console\\/migrations\\/m181110_033944_addon_sign_shopping_street_award.php\",\"console\\/migrations\\/m181110_033944_addon_sign_shopping_street_record.php\",\"console\\/migrations\\/m181110_033944_addon_sign_shopping_street_stat.php\",\"console\\/migrations\\/m181110_033944_addon_sign_shopping_street_user.php\",\"console\\/migrations\\/m181110_033945_api_access_token.php\",\"console\\/migrations\\/m181110_033945_api_log.php\",\"console\\/migrations\\/m181110_033945_common_pay_log.php\",\"console\\/migrations\\/m181110_033946_common_provinces.php\",\"console\\/migrations\\/m181110_033946_live_room.php\",\"console\\/migrations\\/m181110_033946_member_address.php\",\"console\\/migrations\\/m181110_033946_member_auth.php\",\"console\\/migrations\\/m181110_033946_member_credits_log.php\",\"console\\/migrations\\/m181110_033946_member_info.php\",\"console\\/migrations\\/m181110_033947_migration.php\",\"console\\/migrations\\/m181110_033947_sys_action_log.php\",\"console\\/migrations\\/m181110_033947_sys_addons.php\",\"console\\/migrations\\/m181110_033947_sys_addons_binding.php\",\"console\\/migrations\\/m181110_033947_sys_auth_assignment.php\",\"console\\/migrations\\/m181110_033947_sys_auth_item.php\",\"console\\/migrations\\/m181110_033947_sys_auth_item_child.php\",\"console\\/migrations\\/m181110_033947_sys_auth_rule.php\",\"console\\/migrations\\/m181110_033947_sys_config.php\",\"console\\/migrations\\/m181110_033947_sys_config_cate.php\",\"console\\/migrations\\/m181110_033947_sys_log.php\",\"console\\/migrations\\/m181110_033948_sys_manager.php\",\"console\\/migrations\\/m181110_033948_sys_menu.php\",\"console\\/migrations\\/m181110_033948_sys_menu_cate.php\",\"console\\/migrations\\/m181110_033948_sys_style.php\",\"console\\/migrations\\/m181110_033948_wechat_attachment.php\",\"console\\/migrations\\/m181110_033948_wechat_attachment_news.php\",\"console\\/migrations\\/m181110_033948_wechat_fans.php\",\"console\\/migrations\\/m181110_033948_wechat_fans_stat.php\",\"console\\/migrations\\/m181110_033948_wechat_fans_tag_map.php\",\"console\\/migrations\\/m181110_033948_wechat_fans_tags.php\",\"console\\/migrations\\/m181110_033948_wechat_mass_record.php\",\"console\\/migrations\\/m181110_033949_wechat_menu.php\",\"console\\/migrations\\/m181110_033949_wechat_menu_provinces.php\",\"console\\/migrations\\/m181110_033949_wechat_msg_history.php\",\"console\\/migrations\\/m181110_033949_wechat_qrcode.php\",\"console\\/migrations\\/m181110_033949_wechat_qrcode_stat.php\",\"console\\/migrations\\/m181110_033949_wechat_reply_addon.php\",\"console\\/migrations\\/m181110_033949_wechat_reply_default.php\",\"console\\/migrations\\/m181110_033949_wechat_reply_images.php\",\"console\\/migrations\\/m181110_033949_wechat_reply_news.php\",\"console\\/migrations\\/m181110_033949_wechat_reply_text.php\",\"console\\/migrations\\/m181110_033949_wechat_reply_user_api.php\",\"console\\/migrations\\/m181110_033949_wechat_reply_video.php\",\"console\\/migrations\\/m181110_033950_wechat_reply_voice.php\",\"console\\/migrations\\/m181110_033950_wechat_rule.php\",\"console\\/migrations\\/m181110_033950_wechat_rule_keyword.php\",\"console\\/migrations\\/m181110_033950_wechat_rule_keyword_stat.php\",\"console\\/migrations\\/m181110_033950_wechat_rule_stat.php\",\"console\\/migrations\\/m181110_033950_wechat_setting.php\"],\"removed\":[\"console\\/migrations\\/m181110_033148_api_log.php\",\"console\\/migrations\\/m181110_033147_addon_article.php\",\"console\\/migrations\\/m181110_033148_addon_article_cate.php\",\"console\\/migrations\\/m181110_033148_addon_article_single.php\",\"console\\/migrations\\/m181110_033148_addon_article_tag.php\",\"console\\/migrations\\/m181110_033148_addon_article_tag_map.php\",\"console\\/migrations\\/m181110_033148_addon_example_cate.php\",\"console\\/migrations\\/m181110_033148_addon_example_curd.php\",\"console\\/migrations\\/m181110_033148_addon_sign_shopping_street_award.php\",\"console\\/migrations\\/m181110_033148_addon_sign_shopping_street_record.php\",\"console\\/migrations\\/m181110_033148_addon_sign_shopping_street_stat.php\",\"console\\/migrations\\/m181110_033148_addon_sign_shopping_street_user.php\",\"console\\/migrations\\/m181110_033148_api_access_token.php\",\"console\\/migrations\\/m181110_033149_common_pay_log.php\",\"console\\/migrations\\/m181110_033150_common_provinces.php\",\"console\\/migrations\\/m181110_033150_live_room.php\",\"console\\/migrations\\/m181110_033150_member_address.php\",\"console\\/migrations\\/m181110_033150_member_auth.php\",\"console\\/migrations\\/m181110_033150_member_credits_log.php\",\"console\\/migrations\\/m181110_033150_member_info.php\",\"console\\/migrations\\/m181110_033150_migration.php\",\"console\\/migrations\\/m181110_033150_sys_action_log.php\",\"console\\/migrations\\/m181110_033150_sys_addons.php\",\"console\\/migrations\\/m181110_033150_sys_addons_binding.php\",\"console\\/migrations\\/m181110_033150_sys_auth_assignment.php\",\"console\\/migrations\\/m181110_033150_sys_auth_item.php\",\"console\\/migrations\\/m181110_033151_sys_auth_item_child.php\",\"console\\/migrations\\/m181110_033151_sys_auth_rule.php\",\"console\\/migrations\\/m181110_033151_sys_config.php\",\"console\\/migrations\\/m181110_033151_sys_config_cate.php\",\"console\\/migrations\\/m181110_033151_sys_log.php\",\"console\\/migrations\\/m181110_033151_sys_manager.php\",\"console\\/migrations\\/m181110_033151_sys_menu.php\",\"console\\/migrations\\/m181110_033151_sys_menu_cate.php\",\"console\\/migrations\\/m181110_033151_sys_style.php\",\"console\\/migrations\\/m181110_033151_wechat_attachment.php\",\"console\\/migrations\\/m181110_033151_wechat_attachment_news.php\",\"console\\/migrations\\/m181110_033151_wechat_fans.php\",\"console\\/migrations\\/m181110_033152_wechat_fans_stat.php\",\"console\\/migrations\\/m181110_033152_wechat_fans_tag_map.php\",\"console\\/migrations\\/m181110_033152_wechat_fans_tags.php\",\"console\\/migrations\\/m181110_033152_wechat_mass_record.php\",\"console\\/migrations\\/m181110_033152_wechat_menu.php\",\"console\\/migrations\\/m181110_033152_wechat_menu_provinces.php\",\"console\\/migrations\\/m181110_033152_wechat_msg_history.php\",\"console\\/migrations\\/m181110_033152_wechat_qrcode.php\",\"console\\/migrations\\/m181110_033152_wechat_qrcode_stat.php\",\"console\\/migrations\\/m181110_033152_wechat_reply_addon.php\",\"console\\/migrations\\/m181110_033152_wechat_reply_default.php\",\"console\\/migrations\\/m181110_033152_wechat_reply_images.php\",\"console\\/migrations\\/m181110_033153_wechat_reply_news.php\",\"console\\/migrations\\/m181110_033153_wechat_reply_text.php\",\"console\\/migrations\\/m181110_033153_wechat_reply_user_api.php\",\"console\\/migrations\\/m181110_033153_wechat_reply_video.php\",\"console\\/migrations\\/m181110_033153_wechat_reply_voice.php\",\"console\\/migrations\\/m181110_033153_wechat_rule.php\",\"console\\/migrations\\/m181110_033153_wechat_rule_keyword.php\",\"console\\/migrations\\/m181110_033153_wechat_rule_keyword_stat.php\",\"console\\/migrations\\/m181110_033153_wechat_rule_stat.php\",\"console\\/migrations\\/m181110_033153_wechat_setting.php\"],\"modified\":[\"docs\\/guide-zh-CN\\/sys-global-description.md\"]}],\"head_commit\":{\"id\":\"0927dbf4d7bf5889dfdeaa343bb516e8fb81d989\",\"tree_id\":\"0f8308f18444366329e0ece2aa60d0489fadf53a\",\"message\":\"\\u91cd\\u65b0\\u4fee\\u6539\\u6570\\u636e\\u8fc1\\u79fb\",\"timestamp\":\"2018-11-10T11:40:14+08:00\",\"url\":\"https:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced\\/commit\\/0927dbf4d7bf5889dfdeaa343bb516e8fb81d989\",\"author\":{\"time\":\"2018-11-10T11:40:14+08:00\",\"id\":765048,\"name\":\"\\u7b80\\u8a00Pro\",\"email\":\"751393839@qq.com\",\"username\":\"jianyan94_291\",\"user_name\":\"jianyan94_291\",\"url\":\"https:\\/\\/gitee.com\\/jianyan94_291\"},\"committer\":{\"id\":765048,\"name\":\"\\u7b80\\u8a00Pro\",\"email\":\"751393839@qq.com\",\"username\":\"jianyan94_291\",\"user_name\":\"jianyan94_291\",\"url\":\"https:\\/\\/gitee.com\\/jianyan94_291\"},\"distinct\":true,\"added\":[\"console\\/migrations\\/m181110_033944_addon_article.php\",\"console\\/migrations\\/m181110_033944_addon_article_cate.php\",\"console\\/migrations\\/m181110_033944_addon_article_single.php\",\"console\\/migrations\\/m181110_033944_addon_article_tag.php\",\"console\\/migrations\\/m181110_033944_addon_article_tag_map.php\",\"console\\/migrations\\/m181110_033944_addon_example_cate.php\",\"console\\/migrations\\/m181110_033944_addon_example_curd.php\",\"console\\/migrations\\/m181110_033944_addon_sign_shopping_street_award.php\",\"console\\/migrations\\/m181110_033944_addon_sign_shopping_street_record.php\",\"console\\/migrations\\/m181110_033944_addon_sign_shopping_street_stat.php\",\"console\\/migrations\\/m181110_033944_addon_sign_shopping_street_user.php\",\"console\\/migrations\\/m181110_033945_api_access_token.php\",\"console\\/migrations\\/m181110_033945_api_log.php\",\"console\\/migrations\\/m181110_033945_common_pay_log.php\",\"console\\/migrations\\/m181110_033946_common_provinces.php\",\"console\\/migrations\\/m181110_033946_live_room.php\",\"console\\/migrations\\/m181110_033946_member_address.php\",\"console\\/migrations\\/m181110_033946_member_auth.php\",\"console\\/migrations\\/m181110_033946_member_credits_log.php\",\"console\\/migrations\\/m181110_033946_member_info.php\",\"console\\/migrations\\/m181110_033947_migration.php\",\"console\\/migrations\\/m181110_033947_sys_action_log.php\",\"console\\/migrations\\/m181110_033947_sys_addons.php\",\"console\\/migrations\\/m181110_033947_sys_addons_binding.php\",\"console\\/migrations\\/m181110_033947_sys_auth_assignment.php\",\"console\\/migrations\\/m181110_033947_sys_auth_item.php\",\"console\\/migrations\\/m181110_033947_sys_auth_item_child.php\",\"console\\/migrations\\/m181110_033947_sys_auth_rule.php\",\"console\\/migrations\\/m181110_033947_sys_config.php\",\"console\\/migrations\\/m181110_033947_sys_config_cate.php\",\"console\\/migrations\\/m181110_033947_sys_log.php\",\"console\\/migrations\\/m181110_033948_sys_manager.php\",\"console\\/migrations\\/m181110_033948_sys_menu.php\",\"console\\/migrations\\/m181110_033948_sys_menu_cate.php\",\"console\\/migrations\\/m181110_033948_sys_style.php\",\"console\\/migrations\\/m181110_033948_wechat_attachment.php\",\"console\\/migrations\\/m181110_033948_wechat_attachment_news.php\",\"console\\/migrations\\/m181110_033948_wechat_fans.php\",\"console\\/migrations\\/m181110_033948_wechat_fans_stat.php\",\"console\\/migrations\\/m181110_033948_wechat_fans_tag_map.php\",\"console\\/migrations\\/m181110_033948_wechat_fans_tags.php\",\"console\\/migrations\\/m181110_033948_wechat_mass_record.php\",\"console\\/migrations\\/m181110_033949_wechat_menu.php\",\"console\\/migrations\\/m181110_033949_wechat_menu_provinces.php\",\"console\\/migrations\\/m181110_033949_wechat_msg_history.php\",\"console\\/migrations\\/m181110_033949_wechat_qrcode.php\",\"console\\/migrations\\/m181110_033949_wechat_qrcode_stat.php\",\"console\\/migrations\\/m181110_033949_wechat_reply_addon.php\",\"console\\/migrations\\/m181110_033949_wechat_reply_default.php\",\"console\\/migrations\\/m181110_033949_wechat_reply_images.php\",\"console\\/migrations\\/m181110_033949_wechat_reply_news.php\",\"console\\/migrations\\/m181110_033949_wechat_reply_text.php\",\"console\\/migrations\\/m181110_033949_wechat_reply_user_api.php\",\"console\\/migrations\\/m181110_033949_wechat_reply_video.php\",\"console\\/migrations\\/m181110_033950_wechat_reply_voice.php\",\"console\\/migrations\\/m181110_033950_wechat_rule.php\",\"console\\/migrations\\/m181110_033950_wechat_rule_keyword.php\",\"console\\/migrations\\/m181110_033950_wechat_rule_keyword_stat.php\",\"console\\/migrations\\/m181110_033950_wechat_rule_stat.php\",\"console\\/migrations\\/m181110_033950_wechat_setting.php\"],\"removed\":[\"console\\/migrations\\/m181110_033148_api_log.php\",\"console\\/migrations\\/m181110_033147_addon_article.php\",\"console\\/migrations\\/m181110_033148_addon_article_cate.php\",\"console\\/migrations\\/m181110_033148_addon_article_single.php\",\"console\\/migrations\\/m181110_033148_addon_article_tag.php\",\"console\\/migrations\\/m181110_033148_addon_article_tag_map.php\",\"console\\/migrations\\/m181110_033148_addon_example_cate.php\",\"console\\/migrations\\/m181110_033148_addon_example_curd.php\",\"console\\/migrations\\/m181110_033148_addon_sign_shopping_street_award.php\",\"console\\/migrations\\/m181110_033148_addon_sign_shopping_street_record.php\",\"console\\/migrations\\/m181110_033148_addon_sign_shopping_street_stat.php\",\"console\\/migrations\\/m181110_033148_addon_sign_shopping_street_user.php\",\"console\\/migrations\\/m181110_033148_api_access_token.php\",\"console\\/migrations\\/m181110_033149_common_pay_log.php\",\"console\\/migrations\\/m181110_033150_common_provinces.php\",\"console\\/migrations\\/m181110_033150_live_room.php\",\"console\\/migrations\\/m181110_033150_member_address.php\",\"console\\/migrations\\/m181110_033150_member_auth.php\",\"console\\/migrations\\/m181110_033150_member_credits_log.php\",\"console\\/migrations\\/m181110_033150_member_info.php\",\"console\\/migrations\\/m181110_033150_migration.php\",\"console\\/migrations\\/m181110_033150_sys_action_log.php\",\"console\\/migrations\\/m181110_033150_sys_addons.php\",\"console\\/migrations\\/m181110_033150_sys_addons_binding.php\",\"console\\/migrations\\/m181110_033150_sys_auth_assignment.php\",\"console\\/migrations\\/m181110_033150_sys_auth_item.php\",\"console\\/migrations\\/m181110_033151_sys_auth_item_child.php\",\"console\\/migrations\\/m181110_033151_sys_auth_rule.php\",\"console\\/migrations\\/m181110_033151_sys_config.php\",\"console\\/migrations\\/m181110_033151_sys_config_cate.php\",\"console\\/migrations\\/m181110_033151_sys_log.php\",\"console\\/migrations\\/m181110_033151_sys_manager.php\",\"console\\/migrations\\/m181110_033151_sys_menu.php\",\"console\\/migrations\\/m181110_033151_sys_menu_cate.php\",\"console\\/migrations\\/m181110_033151_sys_style.php\",\"console\\/migrations\\/m181110_033151_wechat_attachment.php\",\"console\\/migrations\\/m181110_033151_wechat_attachment_news.php\",\"console\\/migrations\\/m181110_033151_wechat_fans.php\",\"console\\/migrations\\/m181110_033152_wechat_fans_stat.php\",\"console\\/migrations\\/m181110_033152_wechat_fans_tag_map.php\",\"console\\/migrations\\/m181110_033152_wechat_fans_tags.php\",\"console\\/migrations\\/m181110_033152_wechat_mass_record.php\",\"console\\/migrations\\/m181110_033152_wechat_menu.php\",\"console\\/migrations\\/m181110_033152_wechat_menu_provinces.php\",\"console\\/migrations\\/m181110_033152_wechat_msg_history.php\",\"console\\/migrations\\/m181110_033152_wechat_qrcode.php\",\"console\\/migrations\\/m181110_033152_wechat_qrcode_stat.php\",\"console\\/migrations\\/m181110_033152_wechat_reply_addon.php\",\"console\\/migrations\\/m181110_033152_wechat_reply_default.php\",\"console\\/migrations\\/m181110_033152_wechat_reply_images.php\",\"console\\/migrations\\/m181110_033153_wechat_reply_news.php\",\"console\\/migrations\\/m181110_033153_wechat_reply_text.php\",\"console\\/migrations\\/m181110_033153_wechat_reply_user_api.php\",\"console\\/migrations\\/m181110_033153_wechat_reply_video.php\",\"console\\/migrations\\/m181110_033153_wechat_reply_voice.php\",\"console\\/migrations\\/m181110_033153_wechat_rule.php\",\"console\\/migrations\\/m181110_033153_wechat_rule_keyword.php\",\"console\\/migrations\\/m181110_033153_wechat_rule_keyword_stat.php\",\"console\\/migrations\\/m181110_033153_wechat_rule_stat.php\",\"console\\/migrations\\/m181110_033153_wechat_setting.php\"],\"modified\":[\"docs\\/guide-zh-CN\\/sys-global-description.md\"]},\"repository\":{\"id\":3554557,\"name\":\"rageframe-advanced\",\"path\":\"rageframe-advanced\",\"full_name\":\"\\u7b80\\u8a00\\/rageframe-advanced\",\"owner\":{\"id\":748097,\"name\":\"\\u7b80\\u8a00\",\"email\":\"panwy@soe-soe.com\",\"username\":\"jianyan94\",\"user_name\":\"jianyan94\",\"url\":\"https:\\/\\/gitee.com\\/jianyan94\",\"login\":\"jianyan94\",\"avatar_url\":\"https:\\/\\/gitee.com\\/uploads\\/97\\/748097_jianyan94.jpg?1460771231\",\"html_url\":\"https:\\/\\/gitee.com\\/jianyan94\",\"type\":\"User\",\"site_admin\":false},\"private\":true,\"html_url\":\"https:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced\",\"url\":\"https:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced\",\"description\":\"\\u9ad8\\u7ea7\\u7248rageframe\",\"fork\":false,\"created_at\":\"2018-05-10T15:16:32+08:00\",\"updated_at\":\"2018-11-10T11:35:48+08:00\",\"pushed_at\":\"2018-11-10T11:35:48+08:00\",\"git_url\":\"git:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced.git\",\"ssh_url\":\"git@gitee.com:jianyan94\\/rageframe-advanced.git\",\"clone_url\":\"https:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced.git\",\"svn_url\":\"svn:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced\",\"git_http_url\":\"https:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced.git\",\"git_ssh_url\":\"git@gitee.com:jianyan94\\/rageframe-advanced.git\",\"git_svn_url\":\"svn:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced\",\"homepage\":null,\"stargazers_count\":0,\"watchers_count\":1,\"forks_count\":0,\"language\":\"PHP\",\"has_issues\":true,\"has_wiki\":true,\"has_pages\":false,\"license\":\"BSD-3-Clause\",\"open_issues_count\":0,\"default_branch\":\"master\",\"namespace\":\"jianyan94\",\"name_with_namespace\":\"\\u7b80\\u8a00\\/rageframe-advanced\",\"path_with_namespace\":\"jianyan94\\/rageframe-advanced\"},\"project\":{\"id\":3554557,\"name\":\"rageframe-advanced\",\"path\":\"rageframe-advanced\",\"full_name\":\"\\u7b80\\u8a00\\/rageframe-advanced\",\"owner\":{\"id\":748097,\"name\":\"\\u7b80\\u8a00\",\"email\":\"panwy@soe-soe.com\",\"username\":\"jianyan94\",\"user_name\":\"jianyan94\",\"url\":\"https:\\/\\/gitee.com\\/jianyan94\",\"login\":\"jianyan94\",\"avatar_url\":\"https:\\/\\/gitee.com\\/uploads\\/97\\/748097_jianyan94.jpg?1460771231\",\"html_url\":\"https:\\/\\/gitee.com\\/jianyan94\",\"type\":\"User\",\"site_admin\":false},\"private\":true,\"html_url\":\"https:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced\",\"url\":\"https:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced\",\"description\":\"\\u9ad8\\u7ea7\\u7248rageframe\",\"fork\":false,\"created_at\":\"2018-05-10T15:16:32+08:00\",\"updated_at\":\"2018-11-10T11:35:48+08:00\",\"pushed_at\":\"2018-11-10T11:35:48+08:00\",\"git_url\":\"git:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced.git\",\"ssh_url\":\"git@gitee.com:jianyan94\\/rageframe-advanced.git\",\"clone_url\":\"https:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced.git\",\"svn_url\":\"svn:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced\",\"git_http_url\":\"https:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced.git\",\"git_ssh_url\":\"git@gitee.com:jianyan94\\/rageframe-advanced.git\",\"git_svn_url\":\"svn:\\/\\/gitee.com\\/jianyan94\\/rageframe-advanced\",\"homepage\":null,\"stargazers_count\":0,\"watchers_count\":1,\"forks_count\":0,\"language\":\"PHP\",\"has_issues\":true,\"has_wiki\":true,\"has_pages\":false,\"license\":\"BSD-3-Clause\",\"open_issues_count\":0,\"default_branch\":\"master\",\"namespace\":\"jianyan94\",\"name_with_namespace\":\"\\u7b80\\u8a00\\/rageframe-advanced\",\"path_with_namespace\":\"jianyan94\\/rageframe-advanced\"},\"user_id\":748097,\"user_name\":\"\\u7b80\\u8a00\",\"user\":{\"id\":748097,\"name\":\"\\u7b80\\u8a00\",\"email\":\"panwy@soe-soe.com\",\"username\":\"jianyan94\",\"user_name\":\"jianyan94\",\"url\":\"https:\\/\\/gitee.com\\/jianyan94\"},\"pusher\":{\"id\":748097,\"name\":\"\\u7b80\\u8a00\",\"email\":\"panwy@soe-soe.com\",\"username\":\"jianyan94\",\"user_name\":\"jianyan94\",\"url\":\"https:\\/\\/gitee.com\\/jianyan94\"},\"sender\":{\"id\":748097,\"name\":\"\\u7b80\\u8a00\",\"email\":\"panwy@soe-soe.com\",\"username\":\"jianyan94\",\"user_name\":\"jianyan94\",\"url\":\"https:\\/\\/gitee.com\\/jianyan94\",\"login\":\"jianyan94\",\"avatar_url\":\"https:\\/\\/gitee.com\\/uploads\\/97\\/748097_jianyan94.jpg?1460771231\",\"html_url\":\"https:\\/\\/gitee.com\\/jianyan94\",\"type\":\"User\",\"site_admin\":false},\"enterprise\":null,\"hook_name\":\"push_hooks\",\"password\":\"t2w5HFyRXS1QpWzYBNHer1zgw6shWSMS\"}','ip'=>'1033907976','req_id'=>'6de0ce014a9272a4746f9ca112c71d12','error_code'=>'200','error_msg'=>'OK','error_data'=>'[]','status'=>'1','created_at'=>'1541821214','updated_at'=>'1541821214']);
        
        /* 设置外键约束 */
        $this->execute('SET foreign_key_checks = 1;');
    }

    public function down()
    {
        $this->execute('SET foreign_key_checks = 0');
        /* 删除表 */
        $this->dropTable('{{%common_log}}');
        $this->execute('SET foreign_key_checks = 1;');
    }
}

